<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
    <head th:replace="layout/template :: head"/>
    <body id="page-top">
        <div id="wrapper">
            <!-- Sidebar -->
            <ul th:replace="layout/template :: sidebar"/>
            <!-- End of Sidebar -->
            <!-- Content Wrapper -->
            <div id="content-wrapper" class="d-flex flex-column">
                <!-- Main Content -->
                <div id="content">
                    <!-- Topbar -->
                    <nav th:replace="layout/template :: topbar"/>
                    <!-- End of Topbar -->

                    <!-- Begin Page Content -->
                    <div class="container-fluid">
                        <!-- Page Heading -->
                        <div class="d-flex mb-4">
                            <h1 class="h3 text-gray-800" th:text="#{company.user}"></h1>
                        </div>
                        <div class="row">
                            <div class="col">
                                <div class="card">
                                    <div class="card-header">
                                        <h5 th:text="#{update}"></h5>
                                    </div>
                                    <div class="card-body table-responsive">
                                        <form th:action="@{/company/user/edit}" method="POST" th:object="${user}" class="needs-validation" novalidate>
                                            <h6 class="text-bold" th:text="#{personalinformation}"></h6>
                                            <input type="hidden" name="idPerson" th:field="*{person.idPerson}" th:value="*{person} ? '*{person.idPerson}' : ''"></input>
                                            <div class="row">
                                                <div class="col">
                                                    <div class="form-group">
                                                        <label for="name" th:text="#{name}"></label>
                                                        <input type="text" class="form-control" id="name" name="name" th:field="*{person.name}" th:value="*{person.name}" required>
                                                            <div class="valid-feedback" th:text="#{valid}"></div>
                                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('person.name')}" th:errors="*{person.name}" th:text="#{invalid}"></div>
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="form-group">
                                                        <label for="lastname" th:text="#{lastname}"></label>
                                                        <input type="text" class="form-control" id="lastname" name="lastname" th:field="*{person.lastname}" th:value="*{person.lastname}" required>
                                                            <div class="valid-feedback" th:text="#{valid}"></div>
                                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('person.lastname')}" th:errors="*{person.lastname}" th:text="#{invalid}"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="row">
                                                <div class="col">
                                                    <div class="form-group">
                                                        <label for="email" th:text="#{email}"></label>
                                                        <input type="email" class="form-control" id="email" name="email" th:field="*{person.email}" th:value="*{person.email}" required>
                                                            <div class="valid-feedback" th:text="#{valid}"></div>
                                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('person.email')}" th:errors="*{person.email}" th:text="#{invalid}"></div>
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="form-group">
                                                        <label for="birthdate" th:text="#{birthdate}"></label>
                                                        <div class="input-group date">
                                                            <input type="text" class="form-control" name="birthdate" id="birthdate" th:field="*{person.birthdate}" th:value="*{person.birthdate}" autocomplete="off" required/>
                                                            <div class="input-group-append">
                                                                <span class="input-group-text"><i class="far fa-calendar-alt"></i></span>
                                                            </div>
                                                            <div class="valid-feedback" th:text="#{valid}"></div>
                                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('person.birthdate')}" th:errors="*{person.birthdate}" th:text="#{invalid}"></div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                            <h6 class="text-bold" th:text="#{phone}"></h6>
                                            <input type="hidden" name="idPhone" th:field="*{person.phone.idPhone}" th:value="*{person.phone} ? '*{person.phone.idPhone}' : ''"></input>
                                            <div class="row">
                                                <div class="col">
                                                    <div class="form-group">
                                                        <label th:text="#{country}"></label>
                                                        <select class="form-control" name="idCountry" id="idCountry" th:field="*{person.phone.country.idCountry}" required>
                                                            <option th:each="item : ${countryList}" th:value="${item.idCountry}" th:text="${item.phonecode}"></option>
                                                        </select>
                                                        <div class="valid-feedback" th:text="#{valid}"></div>
                                                        <div class="invalid-feedback" th:if="${#fields.hasErrors('person.phone.country.idCountry')}" th:errors="*{person.phone.country.idCountry}" th:text="#{invalid}"></div>
                                                    </div>
                                                </div>
                                                <div class="col">
                                                    <div class="form-group">
                                                        <label for="phone" th:text="#{phone}"></label>
                                                        <input type="number" class="form-control" id="phone" name="phone" th:field="*{person.phone.phone}" th:value="*{person.phone.phone}" required>
                                                            <div class="valid-feedback" th:text="#{valid}"></div>
                                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('person.phone.phone')}" th:errors="*{person.phone.phone}" th:text="#{invalid}"></div>
                                                    </div>
                                                </div>
                                            </div>
                                            <h6 class="text-bold" th:text="#{user}"></h6>
                                            <input type="hidden" name="idUser" th:field="*{idUser}" th:value="*{idUser} ? '*{idUser}' : ''">
                                                <input type="hidden" name="typeuser" th:field="*{typeuser}" value="*{typeuser}">
                                                <input type="hidden" name="status" th:field="*{status}" value="*{status}"></input>
                                                <input type="hidden" name="creationdate" th:field="*{creationdate}" th:value="*{creationdate}">
                                                <input type="hidden" name="updateddate" th:field="*{updateddate}" th:value="*{updateddate}">
                                                <input type="hidden" name="deletiondate" th:field="*{deletiondate}" th:value="*{deletiondate}">
                                                <div class="row">
                                                    <div class="col">
                                                        <div class="form-group">
                                                            <label for="username" th:text="#{username}"></label>
                                                            <input type="text" class="form-control" id="username" name="username" th:field="*{username}" th:value="*{username}" required>
                                                                <div class="valid-feedback" th:text="#{valid}"></div>
                                                                <div class="invalid-feedback" th:if="${#fields.hasErrors('username')}" th:errors="*{username}" th:text="#{invalid}"></div>
                                                        </div>
                                                    </div>
                                                    <div class="col">
                                                        <div class="form-group">
                                                            <label th:text="#{company}"></label>
                                                            <select class="form-control" name="idCompany" id="idCountry" th:field="*{company.idCompany}" required>
                                                                <option th:each="item : ${companyList}" th:value="${item.idCompany}" th:text="${item.description}"></option>
                                                            </select>
                                                            <div class="valid-feedback" th:text="#{valid}"></div>
                                                            <div class="invalid-feedback" th:if="${#fields.hasErrors('company.idCompany')}" th:errors="*{company.idCompany}" th:text="#{invalid}"></div>
                                                        </div>
                                                    </div>
                                                </div>
                                                <button type="submit" class="btn btn-primary" th:text="#{send}"></button>
                                        </form>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- /.container-fluid -->
                </div>
            </div>
        </div>
        <!-- End of Page Wrapper -->

        <!-- Scroll to Top Button-->
        <a th:replace="layout/template :: scroll-top"/>
        <div th:replace="layout/template :: scripts"/>
    </body>
</html>
